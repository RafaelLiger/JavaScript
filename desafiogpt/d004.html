<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="estilo/style.css">
</head>
<body>
    <header>
        <h1>Lista</h1>
    </header>
    <main>
        <section>
            <label for="numeros">Números: <input type="number" name="numeros" id="numeros"></label>
            <input type="button" value="Adicionar" onclick="adicionar()">
            <input type="button" value="Mostrar" onclick="mostrar()">
              <input type="button" value="Analisar" onclick="analisar()">
            <input type="button" value="Apagar Lista" onclick="apagar()">
            <div id="res">

            </div>

        </section>
    </main>
<script>
    let res = document.querySelector('#res')
    let numadd = []

    function numeroValido(n) {
        if( n >= 1 && n <= 100){
            return true
        } else {
            return false
        }

    }
    function jaExiste(n, numadd){
        if (numadd.indexOf(n) != -1) {
            return true
        }else {
            return false
        }    
    }

    function adicionar() {
        let num = document.querySelector('#numeros')
        if(num.value.length == 0) {
            alert('Digite um valor válido!')
            return
        } 
        let n = Number(num.value)
        if(numeroValido(n) && !jaExiste(n, numadd)) {
            numadd.push(n)
        }else {
            alert('Valor Invalido ou já encontrado!')
        }
        num.value = ""
        num.focus()
         
    }
    
    function mostrar() {
        if(numadd.length == 0 ) {
            alert('Nenhum número foi adicionado')
            return
        }
        let texto = ""
        res.innerHTML = ""
        for(let pos in numadd) {
            if ( numadd[pos] % 2 == 0){
                texto += `<p style=\"color:green\">${numadd[pos]}</p><br>`    
            }else{
                texto += `<p>${numadd[pos]}</p><br>`
            } 
        }
        res.innerHTML = texto
        
    }
    function analisar() {
       
        let soma = 0
        let media = 0
        if(numadd.length == 0) {
            alert("Sem lista para analisar!")
            return
        }    
        let maior = numadd[0]
        let menor = numadd[0]
        res.innerHTML = ""
        res.innerHTML += `Ao todo temos <strong>${numadd.length}</strong> números.<br>`
        
        for (let pos = 0; pos < numadd.length; pos++) {
            if( numadd[pos] >  maior) {

                maior = numadd[pos]
            }
            if(numadd[pos] <= menor ) {
                menor = numadd[pos]
            }
            soma += numadd[pos]
            
            
        }
        media = soma / numadd.length
        res.innerHTML += ` O maior Número digitado foi <strong>${maior}</strong><br>O menor número digitado foi <strong>${menor}</strong><br>Somando todos os números temos <strong>${soma}</strong><br>A média do total dos valores é de <strong>${media.toFixed(2)}</strong>`
           
    }
    function apagar() {
        if(numadd.length == 0){
            alert('Nenhuma lista adicionada.')
            return
        }
        numadd = []
        res.innerHTML = ""

    }
    
</script>    
</body>
</html>